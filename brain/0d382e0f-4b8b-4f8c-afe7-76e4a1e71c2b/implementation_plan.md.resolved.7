# Bug Fix: Persistent Network Errors and Connectivity

This plan addresses the "Network Error" reported on the Aliases and Audit Log pages by fixing the mismatch between the Vite proxy configuration and the Axios client, and ensuring the backend is consistently reachable.

## Proposed Changes

### [Frontend] React App

#### [MODIFY] [api.ts](file:///c:/SCOUTNEW/scout_db/frontend/src/lib/api.ts)
- Change `baseURL` from `http://127.0.0.1:8000/api/v1` to `/api/v1`.
- This ensures the frontend uses the Vite proxy defined in [vite.config.ts](file:///c:/SCOUTNEW/scout_db/frontend/vite.config.ts), preventing CORS issues and making the setup more portable.

#### [MODIFY] [VulnerabilityEditForm.tsx](file:///c:/SCOUTNEW/scout_db/frontend/src/components/VulnerabilityEditForm.tsx)
- Add `currentPage` state to manage pagination of affected packages.
- Implement slicing logic to display only 2 packages at a time.
- Add pagination controls (`<< 1 >>`) at the bottom of the affected packages list.
- Ensure that updates (ecosystem, name, versions) and removals are still correctly applied to the original data index.

### [Backend] Scout DB Core

#### [MODIFY] [main.py](file:///c:/SCOUTNEW/scout_db/src/scout_db/main.py)
- Ensure `CORSMiddleware` allows the frontend origin explicitly if needed, although the proxy should handle it.
- Add a startup check to verify MongoDB connectivity more aggressively.

### [Root] Project Management

#### [MODIFY] [package.json](file:///c:/SCOUTNEW/package.json)
- Consolidated the entire startup process into the standard `dev` script: `powershell -ExecutionPolicy Bypass -File ./scout_start.ps1`.
- The [scout_start.ps1](file:///c:/SCOUTNEW/scout_start.ps1) script now **forces a valid System32 path** for the session and uses `Start-Job` to manage background processes in PS 5.1.
- This provides a single, robust point of entry that fixes all "Network" and "Spawn" errors.

## Verification Plan

### Manual Verification
- **Health Check**: Verify `http://localhost:5173/api/v1/health` (via proxy) returns 200.
- **Aliases Page**: Verify the list loads correctly via the proxy.
- **Audit Logs Page**: Verify the audit trail is visible via the proxy.
- **Dashboard**: Ensure counters are updated correctly.
